var o={},m;function z(){if(m)return o;m=1;var c=o&&o.__assign||function(){return c=Object.assign||function(r){for(var a,e=1,n=arguments.length;e<n;e++){a=arguments[e];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(r[t]=a[t])}return r},c.apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0}),o.isValidCron=void 0;var v=function(r){return/^\d+$/.test(r)?Number(r):NaN},V=function(r){return r==="*"},d=function(r){return r==="?"},h=function(r,a,e){return r>=a&&r<=e},b=function(r,a,e){var n=r.split("-");switch(n.length){case 1:return V(r)||h(v(r),a,e);case 2:var t=n.map(function(u){return v(u)}),i=t[0],s=t[1];return i<=s&&h(i,a,e)&&h(s,a,e);default:return!1}},O=function(r){return r===void 0||r.search(/[^\d]/)===-1&&v(r)>0},l=function(r,a,e){if(r.search(/[^\d-,\/*]/)!==-1)return!1;var n=r.split(",");return n.every(function(t){var i=t.split("/");if(t.trim().endsWith("/")||i.length>2)return!1;var s=i[0],u=i[1];return b(s,a,e)&&O(u)})},S=function(r){return l(r,0,59)},W=function(r){return l(r,0,59)},A=function(r){return l(r,0,23)},B=function(r,a){return a&&d(r)||l(r,1,31)},w={jan:"1",feb:"2",mar:"3",apr:"4",may:"5",jun:"6",jul:"7",aug:"8",sep:"9",oct:"10",nov:"11",dec:"12"},D=function(r,a){if(r.search(/\/[a-zA-Z]/)!==-1)return!1;if(a){var e=r.toLowerCase().replace(/[a-z]{3}/g,function(n){return w[n]===void 0?n:w[n]});return l(e,1,12)}return l(r,1,12)},k={sun:"0",mon:"1",tue:"2",wed:"3",thu:"4",fri:"5",sat:"6"},M=function(r,a){var e=a.allowBlankDay,n=a.alias,t=a.allowSevenAsSunday,i=a.allowNthWeekdayOfMonth;if(e&&d(r))return!0;if(!e&&d(r)||r.search(/\/[a-zA-Z]/)!==-1)return!1;var s=n?r.toLowerCase().replace(/[a-z]{3}/g,function(g){return k[g]===void 0?g:k[g]}):r,u=t?7:6,f=s.split("#");if(i&&f.length>=2){var y=f[0],p=f[1],_=f.slice(2);return _.length!==0?!1:h(v(p),1,5)&&h(v(y),0,u)}return l(s,0,u)},N=function(r,a,e){return!(e&&d(r)&&d(a))},j=function(r){return r.trim().split(/\s+/)},C={alias:!1,seconds:!1,allowBlankDay:!1,allowSevenAsSunday:!1,allowNthWeekdayOfMonth:!1};return o.isValidCron=function(r,a){var e=c(c({},C),a),n=j(r);if(n.length>(e.seconds?6:5)||n.length<5)return!1;var t=[];if(n.length===6){var i=n.shift();i&&t.push(S(i))}var s=n[0],u=n[1],f=n[2],y=n[3],p=n[4];return t.push(W(s)),t.push(A(u)),t.push(B(f,e.allowBlankDay)),t.push(D(y,e.alias)),t.push(M(p,e)),t.push(N(f,p,e.allowBlankDay)),t.every(Boolean)},o}var L=z();export{L as l};
