import{d as k,a as f,c,o as i,e as r,b as p,f as L,x as N,t as a,w as O,h as d,i as A}from"./index-DsliLC_t.js";const C={class:"node-t-card"},g={class:"node-header"},P={class:"header-actions"},$={key:0,class:"skeleton-container"},h={key:1},b={class:"name"},D={key:0},S={key:1},B=3,w=k({__name:"filter",props:{model:{},type:{},lf:{}},setup(o){const R={INSERT:"新增",UPDATE:"更新",DELETE:"删除"},T={EQ:"等于",NE:"不等于",GT:"大于",LT:"小于",GE:"大于等于",LE:"小于等于",LIKE:"包含",NOT_LIKE:"不包含",IN:"在..内",NOT_IN:"不在..内",IS_NULL:"为空",IS_NOT_NULL:"不为空"},E=o;function _(t){return t.length===0?"无":t.length===B?"增、删、改":t.map(e=>R[e]||e).join(",")}function v(t,e){if(t.length===0)return"无";if(!t[e])return"";const{field:n,operator:s,value:l}=t[e];return`${n} ${m(s)} ${l}`}function y(t){if(!t.streamRecord)return"无";const e=t.streamRecord.conditionBefore||[];if(e.length>0){const{field:s,operator:l,value:u}=e[0];return`${s} ${m(l)} ${u} ...`}const n=t.streamRecord.conditionAfter||[];if(n.length>0&&n[0]){const{field:s,operator:l,value:u}=n[0];return`${s} ${m(l)} ${u} ...`}return"无"}function m(t){return T[t]||t}function I(){E.lf.deleteNode(E.model.id)}return(t,e)=>{const n=f("t-icon"),s=f("t-skeleton"),l=f("t-tag");return i(),c("div",C,[r("div",g,[p(n,{loadDefaultIcons:!1,name:"filter",class:"title-icon"}),e[0]||(e[0]=r("span",{class:"title"},"数据过滤",-1)),r("span",P,[o.type!=="publish"?(i(),L(n,{key:0,loadDefaultIcons:!1,name:"close",class:"close-icon",onClick:I})):N("",!0)])]),o.model.properties.name?(i(),c("div",h,[r("div",b,a(o.model.properties.name),1),p(l,{theme:"primary",variant:"outline",class:"tag"},{default:O(()=>[o.model.properties.filterType==="STREAM_RECORD"?(i(),c("span",D,[d(" 过滤表："+a(o.model.properties.streamRecord.table||"无")+" ",1),e[1]||(e[1]=r("br",null,null,-1)),d(" 操作类型："+a(_(o.model.properties.streamRecord.operations))+" ",1),e[2]||(e[2]=r("br",null,null,-1)),d(" 条件："+a(y(o.model.properties)),1)])):N("",!0),o.model.properties.filterType==="PLAIN_RECORD"?(i(),c("span",S,[e[3]||(e[3]=d(" 类型：普通数据",-1)),e[4]||(e[4]=r("br",null,null,-1)),d(" 为空继续："+a(o.model.properties.ifEmptyContinue?"是":"否"),1),e[5]||(e[5]=r("br",null,null,-1)),d(" 条件："+a(v(o.model.properties.plainRecord.condition,0)),1)])):N("",!0)]),_:1})])):(i(),c("div",$,[p(s,{rowCol:[2,3,1]})]))])}}}),U=A(w,[["__scopeId","data-v-da9aa411"]]);export{U as default};
